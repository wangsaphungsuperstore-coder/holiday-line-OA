<!DOCTYPE html>
<html lang="th">
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>อัตราค่าปรับหอพัก</title>
  
  <style>
    /* Configuration & Variables */
    :root {
      --color-primary: #8B4513;    /* น้ำตาลเข้ม */
      --color-secondary: #D2B48C;  /* น้ำตาลอ่อน */
      --color-background: #FFF8E1; /* เหลืองอ่อน */
      --color-text: #4E342E;       /* น้ำตาลเกือบดำ */
      --color-warning: #FFC107;    /* เหลืองเตือน */
      --color-safe: #4CAF50;       /* เขียวปลอดภัย */
    }
    
    body {
      font-family: 'Sukhumvit Set', 'Kanit', sans-serif;
      background-color: var(--color-background);
      color: var(--color-text);
      padding: 15px;
      margin: 0;
      text-align: center;
    }
    
    .container {
      max-width: 450px;
      margin: 0 auto;
      padding: 20px;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    h1 { 
      color: var(--color-primary); 
      font-size: 1.8em; 
      margin-bottom: 5px; 
    }

    h2 { 
      font-size: 1.5em; 
      margin-top: 25px; 
      color: var(--color-primary); 
      border-bottom: 2px solid var(--color-secondary); 
      padding-bottom: 5px; 
    }

    .date-display { 
      font-size: 1.1em; 
      color: #6D4C41; 
      margin-bottom: 20px; 
    }
    
    .fine-box { 
      background-color: white; 
      padding: 20px; 
      border-radius: 8px; 
      margin: 25px 0; 
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); 
    }

    .fine-label { 
      font-size: 1.1em; 
      font-weight: 500; 
      margin-bottom: 5px; 
    }

    .fine-amount { 
      font-size: 3.5em; 
      font-weight: bold; 
      color: #DC3545; 
      line-height: 1; 
    }
    
    .status-message { 
      padding: 10px; 
      margin-top: 15px; 
      border-radius: 5px; 
      font-weight: bold; 
      font-size: 1.1em; 
    }

    .status-safe { 
      background-color: var(--color-safe); 
      color: white; 
    }

    .status-warning { 
      background-color: var(--color-warning); 
      color: var(--color-text); 
    }

    .fine-table { 
      width: 100%; 
      border-collapse: collapse; 
      margin-top: 15px; 
      font-size: 1.3em; 
      
    }

    .fine-table th, .fine-table td { 
      border: 1px solid var(--color-secondary); 
      padding: 10px 8px; 
        font-weight: bold; 
    }

    .fine-table th { 
      background-color: var(--color-primary); 
      color: white; 
    }

    .fine-table tr:nth-child(even) { 
      background-color: #FBEFDD; 
        font-weight: bold; 
    }

    .highlight-row { 
      background-color: var(--color-warning) !important; 
      font-weight: bold; 
    }
    
    /* Responsive for Mobile */
@media (max-width: 992px) {
  .container { 
    max-width: 90%; 
    padding: 15px;
  }
    
   h1 { font-size: 2em; }
  h2 { font-size: 1.3em; } 
  
  .date-display, 
  .fine-label, 
  .status-message, 
  .fine-table { 
    font-size: 1.2em; 
  }

  .fine-amount { 
    font-size: 3em; 
  }
}
  </style>
</head>
<body>

  <div class="container">
    <h1>อัตราค่าปรับ</h1>
    <div class="date-display" id="current-date"></div>

    <div class="fine-box">
      <div class="fine-label">ค่าปรับที่ต้องชำระในวันนี้ (฿)</div>
      <div class="fine-amount" id="current-fine-amount"></div>
    </div>
    
    <div class="status-message" id="status-message"></div>
    
    <h2>ตารางอ้างอิง</h2>
    <table class="fine-table">
      <thead>
        <tr>
          <th>ชำระภายในวันที่</th>
          <th>ค่าปรับ (บาท)</th>
        </tr>
      </thead>
      <tbody id="reference-table-body"></tbody>
    </table>
  </div>

  <script>
    /**
     * คํานวณข้อมูลค่าปรับ
     * กฎ: เริ่มคิดค่าปรับตั้งแต่วันที่ 9 ของเดือน (วันละ 50 บาท)
     */
    function getFineData() {
      const today = new Date();
      const todayDate = today.getDate();
      const fineRate = 50; 
      
      let currentFine = 0;
      if (todayDate >= 9) {
        currentFine = (todayDate - 8) * fineRate;
      }
      
      const referenceTable = [];
      for (let day = 9; day <= 16; day++) {
        referenceTable.push({
          day: day,
          fine: (day - 8) * fineRate
        });
      }

      // จัดรูปแบบวันที่ภาษาไทย
      const formatter = new Intl.DateTimeFormat('th-TH', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        weekday: 'long'
      });
      
      return {
        formattedDate: formatter.format(today),
        currentFine: currentFine,
        referenceTable: referenceTable
      };
    }

    /**
     * แสดงผลข้อมูลบนหน้าเว็บ
     */
    function displayData() {
      const data = getFineData();
      const todayDate = new Date().getDate();
      
      // แสดงวันที่ปัจจุบัน
      document.getElementById('current-date').textContent = `ณ ${data.formattedDate}`;
      
      // แสดงยอดค่าปรับ
      const fineAmountDisplay = document.getElementById('current-fine-amount');
      fineAmountDisplay.innerHTML = `${data.currentFine.toLocaleString('th-TH')}`;
      
      // จัดการข้อความสถานะ
      const statusMessage = document.getElementById('status-message');
      if (data.currentFine === 0) {
          statusMessage.textContent = 'ชำระวันนี้ ไม่มีค่าปรับค่ะ';
          statusMessage.className = 'status-message status-safe';
      } else {
          statusMessage.textContent = `ชำระวันนี้ มีค่าปรับรวม ${data.currentFine.toLocaleString('th-TH')} บาทค่ะ`;
          statusMessage.className = 'status-message status-warning';
      }

      // สร้างตารางอ้างอิง
      const tableBody = document.getElementById('reference-table-body');
      tableBody.innerHTML = '';
      
      data.referenceTable.forEach(item => {
        const row = tableBody.insertRow();
        if (item.day === todayDate) row.classList.add('highlight-row');
        
        row.insertCell().textContent = item.day;
        row.insertCell().textContent = item.fine.toLocaleString('th-TH');
      });
    }

    // เริ่มทำงานเมื่อ DOM โหลดเสร็จสมบูรณ์
    document.addEventListener("DOMContentLoaded", displayData);
  </script>
</body>
</html>
